#!/bin/bash

# ๐ ุณูุฑุจุช ุงูุชุดุบูู ุงูุณุฑูุน ูุจูุช TikTok Username Checker

echo "๐ฏ ุจุฏุก ุฅุนุฏุงุฏ ุจูุช TikTok Username Checker..."

# ุงูุชุญูู ูู ูุฌูุฏ Python
if ! command -v python3 &> /dev/null; then
    echo "โ Python3 ุบูุฑ ูุซุจุช. ูุฑุฌู ุชุซุจูุชู ุฃููุงู."
    exit 1
fi

echo "โ ุชู ุงูุนุซูุฑ ุนูู Python"

# ุฅูุดุงุก ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ ุฅุฐุง ูู ุชูู ููุฌูุฏุฉ
if [ ! -d "venv" ]; then
    echo "๐ฆ ุฅูุดุงุก ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ..."
    python3 -m venv venv
fi

# ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ
echo "๐ ุชูุนูู ุงูุจูุฆุฉ ุงูุงูุชุฑุงุถูุฉ..."
source venv/bin/activate

# ุชุซุจูุช ุงูููุชุจุงุช
echo "๐ ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ..."
pip install -r requirements.txt

# ุงูุชุญูู ูู ูุฌูุฏ ุงูุชููู
if [ -z "$BOT_TOKEN" ]; then
    echo "โ๏ธ  ูุชุบูุฑ BOT_TOKEN ุบูุฑ ููุนุฑูู"
    echo "๐ ูุฑุฌู ุชุนููู ุงูุชููู:"
    echo "   export BOT_TOKEN='8138519590:AAHOAhelbbtpOqCaCoKEPOW77Q1IbzgVytY'"
    echo ""
    read -p "๐ ุฃุฏุฎู ุชููู ุงูุจูุช ุงูุขู: " token
    export BOT_TOKEN="$token"
fi

# ุงูุชุญูู ูู ุตุญุฉ ุงูุชููู
if [[ ! $BOT_TOKEN =~ ^[0-9]+:[a-zA-Z0-9_-]+$ ]]; then
    echo "โ ุงูุชููู ุบูุฑ ุตุญูุญ. ูุฌุจ ุฃู ูููู ุจุงูุดูู: 123456789:ABCDefGhIJKLmnoPQRStuVWXyz"
    exit 1
fi

echo "โ ุงูุชููู ุตุญูุญ"

# ุชุดุบูู ุงูุจูุช
echo "๐ ุชุดุบูู ุงูุจูุช..."
echo "๐ฑ ููููู ุงูุขู ุงุณุชุฎุฏุงู ุงูุจูุช ุนูู Telegram"
echo "๐ ุงุถุบุท Ctrl+C ูุฅููุงู ุงูุจูุช"
echo ""

python3 bot.py